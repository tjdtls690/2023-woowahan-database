# 목차

1. [AND로 조합하기](#1-and로-조합하기) <br/>
2. [OR로 조합하기](#2-or로-조합하기) <br/>
3. [AND와 OR를 사용할 경우 주의할 점](#3-and와-or를-사용할-경우-주의할-점) <br/>
   1. [각 조건식마다 컬럼의 정보를 명확히 적어줘야 합니다.](#1-각-조건식마다-컬럼의-정보를-명확히-적어줘야-합니다) <br/>
   2. [AND와 OR를 조합할 때의 우선순위](#2-and와-or를-조합할-때의-우선순위) <br/>
4. [NOT으로 조합](#4-not으로-조합) <br/>

<br/>

# 7강 - 조건 조합하기

**조건을 조합하여 더 세밀하게 검색할 수 있도록 해주는 논리 연산자 3가지**

1. **AND** : 조건식1 AND 조건식2
2. **OR** : 조건식1 OR 조건식2
3. **NOT** : NOT 조건식

<br/>

## 1. AND로 조합하기

- 조건식을 AND로 조합한다면, **'모든 조건을 만족하는 경우 조건식은 참이 된다'** 는 의미입니다.
  - 즉, 각 조건식의 **'교집합'** 을 의미합니다.<br/>

sample 테이블 예제를 간단히 만들어봅시다.

| no   | name   | age  |
| ---- | ------ | ---- |
| 1    | 홍길동 | 21   |
| 2    | 철수   | 35   |
| 3    | 짱구   | 17   |

여기서 AND를 이용해 조건식을 조합해보면,

- SELECT * FROM sample **WHERE no != 1 AND no != 2;**
  - **컬럼 no 가 1이 아니고 2도 아닌 행의 모든 컬럼의 정보를 가져와라** 라는 명령입니다.

**명령 결과)**

| no   | name | age  |
| ---- | ---- | ---- |
| 3    | 짱구 | 17   |

no가 1과 2에 속하지 않는 짱구의 결과만 얻게 됩니다.

<br/>

## 2. OR로 조합하기

- 조건식을 OR로 조합한다면, '어느 쪽이든 하나만 참이 되면 조건식은 참이 된다' 는 의미입니다.
  - 즉, 각 조건식의 **'합집합'** 을 의미합니다.

- SELECT * FROM sample **WHERE no = 1 OR no = 2;**
  - **컬럼 no 가 1이거나 2인 행의 모든 컬럼의 정보를 가져와라** 라는 명령입니다.

**명령 결과)**

| no   | name   | age  |
| ---- | ------ | ---- |
| 1    | 홍길동 | 21   |
| 2    | 철수   | 35   |

<br/>

## 3. AND와 OR를 사용할 경우 주의할 점

### 1) 각 조건식마다 컬럼의 정보를 명확히 적어줘야 합니다.

- SELECT * FROM sample **WHERE no = 1 OR 2;**
  - 이 명령은 2라는 상수가 논리 연산으로 항상 참이 되기 때문에 모든 행을 반환하게 됩니다.
- SELECT * FROM sample **WHERE no = 1 OR no = 2;**
  - 이처럼 각 조건식마다 컬럼의 정보를 명확히 적어줘야 합니다.<br/>

### 2) AND와 OR를 조합할 때의 우선순위

AND와 OR의 계산 우선순위가 다릅니다. **AND가 OR보다 우선순위가 높기 때문에,** 이를 주의해야 합니다.

| no   | name   | age  |
| ---- | ------ | ---- |
| 1    | 홍길동 | 21   |
| 2    | 철수   | 35   |
| 3    | 짱구   | 17   |
| 4    | 페이커 | 26   |
| 5    | 손흥민 | 32   |

이 테이블을 대상으로 AND와 OR를 조합해보면,

- SELECT * FROM sample **WHERE no = 1 OR no != 2 AND no = 5;**

만약 연산식의 순서가 차례대로라고 가정한다면 즉, **OR -> AND 순서라면,** 명령 결과는 밑과 같을 것입니다.

| no   | name   | age  |
| ---- | ------ | ---- |
| 5    | 손흥민 | 32   |

<br/>

하지만 실제 연산식의 우선순위는 **AND -> OR** 이기 때문에 밑과 같이 결과가 다르게 나옵니다.

| no   | name   | age  |
| ---- | ------ | ---- |
| 1    | 홍길동 | 21   |
| 5    | 손흥민 | 32   |

이런 결과가 나온 이유를 살펴봅시다.

**만약 OR -> AND 순서라면,**

1. no 가 1이거나 2가 아닌 행들을 먼저 뽑습니다.

   - **no가 1,3,4,5인 행을 먼저 킵합니다.**

2. 그 후, AND no = 5 의 연산을 적용시킵니다.

   - **5의 행만 남게 됩니다.**

     <br/>

**하지만 실제 연산 순서인 AND -> OR 로 하나씩 풀어보자면,**

1. no 가 2가 아니면서 5인 행들을 먼저 뽑습니다.

   - **5의 행만을 먼저 킵합니다.**

2. 그 후, OR no = 1 의 연산을 적용시킵니다.

   - 결과적으로 **no = 5 OR no = 1 이 되어서 no가 1,5인 행이 남게됩니다.**

     <br/>

이처럼 **AND와 OR 의 우선순위가 다르다는 것을 인지하고 있어야 올바른 결과를 예상할 수 있습니다.** 만약 OR에 먼저 우선순위를 주고싶다면, 

- SELECT * FROM sample **WHERE (no = 1 OR no != 2) AND no = 5;**

이와 같이 OR 연산식에 괄호를 쳐주면 됩니다. 그럼 컬럼 no가 5인 행만 가져오게 됩니다.

<br/>

## 4. NOT으로 조합

NOT 연산자는 **오른쪽에만 항목을 지정하는 '단항 연산자'** 입니다. 즉, 오른쪽에 지정한 조건식의 반대 값을 반환합니다.

이해를 돕기 위해, 3번에서 사용했던 명령을 다시 가져와서 NOT만 붙여봅시다.

- SELECT * FROM sample **WHERE NOT (no = 1 OR no != 2 AND no = 5);**
  - 이 명령의 결과는 위에서 보셨다시피  no가 1,5인 행을 가져옵니다.
  - 이 결과를 그대로 부정한다고 생각하면 쉽게 결과를 유추할 수 있습니다.

**명령 결과)**

| no   | name   | age  |
| ---- | ------ | ---- |
| 2    | 철수   | 35   |
| 3    | 짱구   | 17   |
| 4    | 페이커 | 26   |

no가 1,5가 아닌 행을 의미하니, no가 2,3,4인 행을 가져오게 됩니다.
